(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{21:function(e,t,n){e.exports=n(45)},26:function(e,t,n){},27:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(18),r=n.n(o),i=(n(26),n(27),n(20)),m=n(4),u=n(5),c=n(7),s=n(6),p=n(2),d=n(8),h=n(3),y=n.n(h),E=function(e){var t=e.emp,n=e.onRemoveEmployee,a=void 0===n?function(e){return e}:n,o=e.editingEmployee,r=void 0===o?function(e){return e}:o;return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,t.first_name),l.a.createElement("td",null,t.last_name),l.a.createElement("td",null,t.employee_id),l.a.createElement("td",null,t.email_address),l.a.createElement("td",null,t.phone_number),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return a(t.id)}},"delete employee")," "),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return r(t.id)}},"edit")))},f=function(e){var t,n,a,o,r,i=e.onNewEmployee,m=void 0===i?function(e){return e}:i;return l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m(t.value,n.value,a.value,o.value,r.value),t.value="",n.value="",a.value=0,o.value="",r.value="",t.focus()}},l.a.createElement("input",{ref:function(e){return t=e},type:"text",placeholder:"first name",required:!0}),l.a.createElement("input",{ref:function(e){return n=e},type:"text",placeholder:"last name",required:!0}),l.a.createElement("input",{ref:function(e){return a=e},type:"number",placeholder:"employee id",required:!0}),l.a.createElement("input",{ref:function(e){return o=e},type:"text",placeholder:"email address",required:!0}),l.a.createElement("input",{ref:function(e){return r=e},type:"text",placeholder:"phone number",required:!0}),l.a.createElement("button",null,"add new employee"))},v=n(19),b=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={id:n.props.emp.id,firstName:n.props.emp.first_name,lastName:n.props.emp.last_name,employeeId:n.props.emp.employee_id,emailAddres:n.props.emp.email_address,phoneNumber:n.props.emp.phone_number},n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(p.a)(n)),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,n=t.id,a=t.firstName,l=t.lastName,o=t.employeeId,r=t.emailAddres,i=t.phoneNumber;this.props.editEmployee(n,a,l,o,r,i)}},{key:"render",value:function(){return l.a.createElement("form",{key:this.state.id,onSubmit:this.handleSubmit},l.a.createElement("input",{name:"firstName",type:"text",placeholder:"first name",value:this.state.firstName,onChange:this.handleChange}),l.a.createElement("input",{name:"lastName",type:"text",placeholder:"last name",value:this.state.lastName,onChange:this.handleChange,required:!0}),l.a.createElement("input",{name:"employeeId",type:"number",placeholder:"employee id",value:this.state.employeeId,onChange:this.handleChange,required:!0}),l.a.createElement("input",{name:"emailAddress",type:"text",placeholder:"email address",value:this.state.emailAddres,onChange:this.handleChange,required:!0}),l.a.createElement("input",{name:"phoneNumber",type:"text",placeholder:"phone number",value:this.state.phoneNumber,onChange:this.handleChange,required:!0}),l.a.createElement("button",null,"edit employee"))}}]),t}(a.Component),g=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={employees:[],editingEmployeeID:null,editingEmployee:null},n.addNewEmployee=n.addNewEmployee.bind(Object(p.a)(n)),n.removeEmployee=n.removeEmployee.bind(Object(p.a)(n)),n.editEmployee=n.editEmployee.bind(Object(p.a)(n)),n.editingEmployee=n.editingEmployee.bind(Object(p.a)(n)),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;y.a.get("/api/v1/employees.json").then(function(t){e.setState({employees:t.data})}).catch(function(e){return console.log(e)})}},{key:"addNewEmployee",value:function(e,t,n,a,l){var o=this;y.a.post("/api/v1/employees",{employee:{first_name:e,last_name:t,employee_id:n,email_address:a,phone_number:l}}).then(function(e){var t=[].concat(Object(i.a)(o.state.employees),[e.data]);o.setState({employees:t})}).catch(function(e){return console.log(e)})}},{key:"removeEmployee",value:function(e){var t=this;y.a.delete("/api/v1/employees/".concat(e)).then(function(n){var a=t.state.employees.filter(function(t){return t.id!==e});t.setState({employees:a})}).catch(function(e){return console.log(e)})}},{key:"editingEmployee",value:function(e){var t=this.state.employees.filter(function(t){return t.id===e});this.setState({editingEmployeeID:e,editingEmployee:t[0]})}},{key:"editEmployee",value:function(e,t,n,a,l,o){var r=this;y.a.put("/api/v1/employees/".concat(e),{employee:{first_name:t,last_name:n,employee_id:a,email_address:l,phone_number:o}}).then(function(i){var m=r.state.employees;m[e-1]={id:e,first_name:t,last_name:n,employee_id:a,email_address:l,phone_number:o},r.setState({employees:m,editingEmployeeID:null})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return console.log(this.state),l.a.createElement("div",null,l.a.createElement("div",{className:"App-header"}),l.a.createElement("div",{className:"employee-form"},null===this.state.editingEmployeeID?l.a.createElement(f,{onNewEmployee:this.addNewEmployee}):l.a.createElement(b,{className:"employee-name",key:this.state.editingEmployeeID,emp:this.state.editingEmployee,onRemoveEmployee:this.removeEmployee,editEmployee:this.editEmployee})),l.a.createElement("table",{className:"employee-table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Fist Name"),l.a.createElement("th",null,"Last Name"),l.a.createElement("th",null,"Employee ID"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Phone Number"))),l.a.createElement("tbody",null,this.state.employees.map(function(t){return l.a.createElement(E,{className:"employee-name",key:t.id,emp:t,onRemoveEmployee:e.removeEmployee,editingEmployee:e.editingEmployee})}))))}}]),t}(a.Component);var N=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.0614a87d.chunk.js.map